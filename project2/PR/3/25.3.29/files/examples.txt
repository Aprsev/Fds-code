Test Case 1: Basic Functionality with Multiple Solutions
Input:
3
10 -1
5 0
15 0
3
15 -1
10 0
20 0
25
Output:
true
25 = 5 + 20
25 = 10 + 15
25 = 15 + 10
10 5 15
15 10 20

Test Case 2: No Solution
Input:
3
10 -1
5 0
15 0
3
15 -1
10 0
20 0
40
Output:
false
10 5 15
15 10 20

Test Case 3: Duplicate Values Handling
Input:
8
12 2
16 5
13 4
18 5
15 -1
17 4
14 2
18 3
7
20 -1
16 0
25 0
13 1
18 1
21 2
28 2
36
Output:
true
36 = 15 + 21
36 = 16 + 20
36 = 18 + 18
15 13 12 14 17 16 18 18
20 16 13 18 25 21 28

Test Case 4: Skewed Tree Structures
Input:
3
10 -1
5 0
3 1
3
2 -1
4 0
6 1
5
Output:
true
5 = 3 + 2
10 5 3
2 4 6

Test Case 5: Extreme Values
Input:
1
-1000000000 -1
1
2000000000 -1
1000000000
Output:
true
1000000000 = -1000000000 + 2000000000
-1000000000
